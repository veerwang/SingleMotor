# 需求规格说明书

**项目名称**: NiMotion 一体化步进电机调试工具
**版本**: v0.1
**日期**: 2026-02-13

---

## 1. 概述

### 1.1 项目目标

开发一个基于 Python + PyQt5 的桌面应用程序，用于通过 RS-485 总线（Modbus-RTU 协议）对北京立迈胜（NiMotion）一体化步进电机进行调试和控制。

### 1.2 适用设备

- STM86 / STM57H / STM57V / STM42 系列 RS485 总线一体化步进电机（开环）
- SDM57V / SDM42 系列 RS485 总线电机驱动器

### 1.3 技术栈

| 项目 | 选型 |
|------|------|
| 编程语言 | Python 3.10+ |
| GUI 框架 | PyQt5 |
| 串口通讯 | pyserial |
| Modbus 协议 | pymodbus 或手动构建 RTU 帧 |
| 构建工具 | pyproject.toml + uv |

### 1.4 参考文档

| 文档 | 摘要位置 |
|------|---------|
| 一体化步进电机 Modbus 通讯用户手册（开环）B02 | `documents/一体化步进电机Modbus通讯手册_摘要.md` |
| STM 系列常见问题及解决方法 A01 | `documents/STM系列常见问题及解决方法_摘要.md` |
| SDM42 系列 485 总线电机驱动器使用说明书 A | `documents/SDM42系列485总线电机驱动器使用说明书_摘要.md` |

---

## 2. 整体架构

### 2.1 界面布局

主窗口采用 **Tab 页签** 方式组织三大功能模块：

```
┌──────────────────────────────────────────────┐
│  [串口调试]  [Modbus 调试]  [电机控制]         │
├──────────────────────────────────────────────┤
│                                              │
│              当前 Tab 页内容                    │
│                                              │
├──────────────────────────────────────────────┤
│  状态栏: 连接状态 | 端口信息 | 收发计数          │
└──────────────────────────────────────────────┘
```

### 2.2 公共组件

#### 2.2.1 串口连接栏

所有 Tab 页共享同一个串口连接，连接栏固定显示在主窗口顶部或侧边：

| 控件 | 说明 |
|------|------|
| 端口选择 | 下拉框，自动枚举系统可用串口，支持刷新按钮 |
| 波特率 | 下拉框，选项：9600 / 19200 / 38400 / 57600 / **115200（默认）** / 256000 / 500000 / 1000000 |
| 数据位 | 下拉框，固定 8 |
| 校验位 | 下拉框，选项：None（默认） / Even / Odd |
| 停止位 | 下拉框，选项：**1（默认）** / 2 |
| 从站地址 | 数字输入框，范围 1~247，默认 1 |
| 连接/断开 | 按钮，切换串口连接状态 |

#### 2.2.2 状态栏

- 连接状态指示（已连接/未连接，用颜色区分）
- 当前端口和波特率信息
- TX / RX 字节计数器
- 最后一次通讯时间戳

---

## 3. 模块一：串口调试

### 3.1 功能定位

通用串口收发调试工具，用于底层通讯排查，不涉及 Modbus 协议解析。

### 3.2 界面设计

```
┌─────────────────────────────────────┐
│  接收区（只读文本框，支持滚动）        │
│  - 显示接收到的原始数据               │
│  - 支持 HEX / ASCII 显示切换          │
│  - 支持时间戳显示                     │
│                                     │
├─────────────────────────────────────┤
│  发送区                              │
│  [输入框                          ]  │
│  [HEX/ASCII切换] [发送] [定时发送]    │
└─────────────────────────────────────┘
```

### 3.3 功能需求

| 编号 | 功能 | 描述 |
|------|------|------|
| S-01 | 数据接收显示 | 实时显示串口接收到的数据，支持 HEX 和 ASCII 两种显示模式 |
| S-02 | 时间戳 | 每条接收数据前可选显示时间戳（精确到毫秒） |
| S-03 | 数据发送 | 输入框支持 HEX 和 ASCII 两种输入模式 |
| S-04 | HEX 输入格式 | HEX 模式下支持空格分隔（如 `01 06 00 51 00 06`），自动忽略多余空格 |
| S-05 | 定时发送 | 可设置发送间隔（毫秒），周期性自动发送当前输入内容 |
| S-06 | 清空接收区 | 一键清空接收显示区域 |
| S-07 | 收发计数 | 显示发送和接收的字节数，支持清零 |
| S-08 | 历史记录 | 发送输入框支持下拉选择最近发送过的数据（最多保留 20 条） |
| S-09 | 快捷指令 | 提供常用 Modbus 指令的快捷按钮（见 3.4） |

### 3.4 快捷指令列表

预置以下常用 Modbus 原始报文（HEX），点击后自动填入发送区：

| 名称 | 报文（从站地址=01） | 说明 |
|------|-------------------|------|
| 读状态字 | `01 04 00 1F 00 01` | 读输入寄存器 0x1F |
| 读当前位置 | `01 04 00 21 00 02` | 读输入寄存器 0x21（开环） |
| 读当前速度 | `01 04 00 23 00 02` | 读输入寄存器 0x23 |
| 读当前报警 | `01 04 00 26 00 01` | 读输入寄存器 0x26 |
| 电机启动 | `01 06 00 51 00 06` | 控制字=0x06 |
| 电机使能 | `01 06 00 51 00 07` | 控制字=0x07 |
| 电机运行 | `01 06 00 51 00 0F` | 控制字=0x0F |
| 电机急停 | `01 06 00 51 00 02` | 控制字=0x02 |
| 清除故障 | `01 06 00 51 00 80` | 控制字=0x80 |
| 保存参数 | `01 06 00 08 73 76` | 保存所有参数 |

**注意**: 快捷指令中的从站地址需根据公共连接栏中的「从站地址」动态替换。报文发送前自动追加 CRC16 校验。

---

## 4. 模块二：Modbus 调试

### 4.1 功能定位

基于 Modbus-RTU 协议的结构化读写工具，将底层报文封装为可视化的寄存器操作。

### 4.2 界面设计

```
┌─────────────────────────────────────────────┐
│  操作区                                      │
│  功能码: [0x03 ▼]  起始地址: [0x0000]        │
│  寄存器数量: [1]    写入值: [0x0000]          │
│  [读取]  [写入]                               │
├─────────────────────────────────────────────┤
│  结果区                                      │
│  ┌─────────┬──────────┬─────────┬────────┐  │
│  │ 地址     │ HEX 值   │ 十进制   │ 说明   │  │
│  ├─────────┼──────────┼─────────┼────────┤  │
│  │ 0x0000  │ 0x0001   │ 1       │ 从站地址│  │
│  │ 0x0001  │ 0x0005   │ 5       │ 波特率  │  │
│  └─────────┴──────────┴─────────┴────────┘  │
├─────────────────────────────────────────────┤
│  通讯日志区                                   │
│  TX: 01 03 00 00 00 02 C4 0B                │
│  RX: 01 03 04 00 01 00 05 XX XX             │
└─────────────────────────────────────────────┘
```

### 4.3 功能需求

| 编号 | 功能 | 描述 |
|------|------|------|
| M-01 | 功能码选择 | 下拉选择：0x03（读保持寄存器）、0x04（读输入寄存器）、0x06（写单个寄存器）、0x10（写多个寄存器） |
| M-02 | 地址输入 | 支持十六进制输入（如 `0x0051`），显示对应寄存器名称（基于内置寄存器表） |
| M-03 | 寄存器名称提示 | 输入地址时自动显示该寄存器的名称、用途、值范围、单位 |
| M-04 | 批量读取 | 支持一次读取多个连续寄存器，结果以表格形式展示 |
| M-05 | 写入操作 | 0x06 写单个寄存器；0x10 写多个寄存器，支持 32 位值（高 16 位 + 低 16 位拆分） |
| M-06 | 结果表格 | 显示地址、HEX 值、十进制值、寄存器名称说明 |
| M-07 | 通讯日志 | 显示每次操作的完整原始 TX/RX 报文（HEX），带时间戳 |
| M-08 | CRC 校验 | 自动计算和验证 CRC16（Modbus），收到响应时校验 CRC，校验失败标红警告 |
| M-09 | 异常响应解析 | 当收到异常响应（功能码+0x80）时，解析异常码并显示含义 |
| M-10 | 超时处理 | 默认响应超时 500ms，可配置。超时后提示「通讯超时」 |
| M-11 | 寄存器收藏 | 支持将常用的地址+功能码组合收藏，快速调用 |

### 4.4 内置寄存器表

程序内置完整的寄存器定义表（基于通讯手册），包含：

**保持寄存器（0x03/0x06/0x10 可读写）**:

| 地址 | 名称 | 数量 | 范围 | 单位 | 默认值 |
|------|------|------|------|------|--------|
| 0x0000 | 从站地址 | 1 | 1~247 | - | 1 |
| 0x0001 | 波特率 | 1 | 0~9 | - | 5 |
| 0x0002 | 网络数据格式 | 1 | 0~3 | - | 2 |
| 0x0008 | 保存所有参数 | 1 | 写 0x7376 | - | - |
| 0x000B | 恢复默认参数 | 1 | 写 0x6C64 | - | - |
| 0x0015 | 减速电流 | 1 | 0~10000 | mA | 1000 |
| 0x0016 | 怠机电流 | 1 | 0~10000 | mA | 500 |
| 0x0017 | 加速电流 | 1 | 0~10000 | mA | 1000 |
| 0x0018 | 运行电流 | 1 | 0~10000 | mA | 1000 |
| 0x0019 | 过载电流 | 1 | 0~100 | 100mA | 40 |
| 0x001A | 细分 | 1 | 0~7 | - | 7 |
| 0x0039 | 运行模式 | 1 | 1~4 | - | 1 |
| 0x003A | 操作启停设置 | 1 | 0~1 | - | 1 |
| 0x003B | 急停操作设置 | 1 | 0~1 | - | 1 |
| 0x003C | 故障操作设置 | 1 | 0~1 | - | 0 |
| 0x0043 | 失速检测阈值 | 2 | 0~100 | 100mA | 80 |
| 0x0051 | 运动控制字 | 1 | UNSIGNED16 | - | 0 |
| 0x0052 | 运动方向 | 1 | 0~1 | - | 0 |
| 0x0053 | 目标位置 | 2 | INTEGER32 | pulse | 0 |
| 0x0055 | 目标速度 | 2 | 0~15610 | Step/s | 100 |
| 0x0057 | 位置最小值 | 2 | INTEGER32 | pulse | 0 |
| 0x0059 | 位置最大值 | 2 | INTEGER32 | pulse | 0 |
| 0x005B | 最大速度 | 2 | 0~15610 | Step/s | 250 |
| 0x005D | 最小速度 | 2 | 0~1000 | Step/s | 16 |
| 0x005F | 加速度 | 2 | 1~59590 | Step/s² | 1000 |
| 0x0061 | 减速度 | 2 | 1~59590 | Step/s² | 1000 |
| 0x0069 | 原点偏移值 | 2 | INTEGER32 | pulse | 0 |
| 0x006B | 原点回归方式 | 1 | 17~31 | - | 17 |
| 0x006C | 寻找开关速度 | 2 | 0~15610 | Step/s | 100 |
| 0x006E | 寻找零位速度 | 2 | 0~15610 | Step/s | 100 |
| 0x0072 | 零点回归 | 1 | 0~1 | - | 0 |

**输入寄存器（0x04 只读）**:

| 地址 | 名称 | 数量 | 说明 |
|------|------|------|------|
| 0x0017 | 输入电压 | 1 | 单位: V |
| 0x0018 | 数字量输入 | 2 | DI 状态 |
| 0x001E | 当前操作模式 | 1 | 1=位置/2=速度/3=原点回归 |
| 0x001F | 运动状态字 | 1 | 状态机状态 |
| 0x0020 | 当前运动方向 | 1 | 0=反转/1=正转 |
| 0x0021 | 当前显示位置 | 2 | 单位: pulse |
| 0x0023 | 当前运行速度 | 2 | 显示值=实际×10, Step/s |
| 0x0025 | 错误寄存器 | 1 | 错误分类标志 |
| 0x0026 | 当前错误报警值 | 1 | 错误码 |
| 0x0027 | 错误存储器报警个数 | 1 | 历史报警数量 |
| 0x0028~0x002F | 历史报警 1~8 | 各 1 | 历史错误码 |

---

## 5. 模块三：电机控制

### 5.1 功能定位

面向电机控制的高层操作界面，将复杂的 Modbus 寄存器操作封装为直观的参数设置和运动控制。

### 5.2 界面设计

采用左右分栏布局：

```
┌─────────────────┬────────────────────────────┐
│  状态监控面板     │  操作面板（子 Tab）           │
│                 │  [参数设置] [运动控制] [报警]  │
│  状态: 使能      │                              │
│  ● 运行指示灯    │  （当前子 Tab 内容）           │
│                 │                              │
│  位置: 12345    │                              │
│  速度: 500 Step/s│                              │
│  电压: 24V      │                              │
│  模式: 位置模式  │                              │
│  方向: 正转      │                              │
│  报警: 无        │                              │
│                 │                              │
│  [刷新] [自动]   │                              │
└─────────────────┴────────────────────────────┘
```

### 5.3 子模块：状态监控面板

位于界面左侧，实时显示电机当前状态。

| 编号 | 功能 | 描述 |
|------|------|------|
| C-01 | 状态字解析 | 读取输入寄存器 0x1F，解析并显示当前状态（脱机/启动/使能/运行/故障等） |
| C-02 | 位置显示 | 读取输入寄存器 0x21（2 个寄存器），显示当前位置（pulse） |
| C-03 | 速度显示 | 读取输入寄存器 0x23（2 个寄存器），显示当前速度（Step/s），同时换算 RPM（×0.3） |
| C-04 | 电压显示 | 读取输入寄存器 0x17，显示输入电压（V） |
| C-05 | 模式显示 | 读取输入寄存器 0x1E，显示当前运行模式名称 |
| C-06 | 方向显示 | 读取输入寄存器 0x20，显示当前方向（正转/反转） |
| C-07 | 报警显示 | 读取输入寄存器 0x26，显示当前报警码及含义，有报警时红色高亮 |
| C-08 | 运行指示灯 | 模拟 RUN/COM 指示灯状态，用颜色圆点表示 |
| C-09 | 手动刷新 | 点击「刷新」按钮立即读取所有状态 |
| C-10 | 自动刷新 | 勾选「自动」后按设定间隔（默认 200ms）轮询状态，可调节间隔 |

### 5.4 子模块：参数设置

| 编号 | 功能 | 描述 |
|------|------|------|
| C-11 | 通讯参数 | 从站地址(0x00)、波特率(0x01)、数据格式(0x02) |
| C-12 | 电流参数 | 怠机电流(0x16)、运行电流(0x18)、加速电流(0x17)、减速电流(0x15)、过载电流(0x19) |
| C-13 | 细分设置 | 细分(0x1A)，下拉选择: Full(0)/Half(1)/1:4(2)/1:8(3)/1:16(4)/1:32(5)/1:64(6)/1:128(7) |
| C-14 | 速度参数 | 最大速度(0x5B)、最小速度(0x5D)、加速度(0x5F)、减速度(0x61) |
| C-15 | 停机设置 | 操作启停(0x3A)、急停操作(0x3B)、故障操作(0x3C) |
| C-16 | 失速检测 | 失速检测阈值(0x43) |
| C-17 | 读取参数 | 一键从电机读取所有可读参数，填充到界面 |
| C-18 | 设置参数 | 将界面修改后的参数写入电机（逐个写入，显示进度） |
| C-19 | 保存参数 | 写 0x7376 到 0x0008，将参数保存到电机 EEPROM |
| C-20 | 恢复出厂 | 写 0x6C64 到 0x000B，恢复出厂默认参数（需二次确认） |
| C-21 | 参数对比 | 修改后的参数高亮显示（与读取值不同的项标黄） |

### 5.5 子模块：运动控制

#### 5.5.1 状态切换区

提供电机状态机的关键控制按钮：

| 按钮 | 控制字 | 描述 |
|------|--------|------|
| 启动 | 0x06 → 0x0051 | 无故障→启动 |
| 使能 | 0x07 → 0x0051 | 启动→使能 |
| 运行 | 0x0F → 0x0051 | 使能→运行 |
| 停止 | 0x07 → 0x0051 | 运行→使能（减速停机） |
| 急停 | 0x02 → 0x0051 | 紧急停机 |
| 脱机 | 0x00 → 0x0051 | 回到无故障状态 |
| 清除故障 | 0x80 → 0x0051 | 故障→无故障 |
| 一键使能 | 依次发 0x06 → 0x07 | 快速从脱机到使能 |

#### 5.5.2 运行模式选择

下拉框选择运行模式，写入寄存器 0x0039：

| 值 | 名称 | 说明 |
|----|------|------|
| 1 | 位置模式 | 绝对/相对位置定位 |
| 2 | 速度模式 | 持续匀速运行 |
| 3 | 原点回归 | 回到设备原点 |

切换模式时自动显示对应的操作面板。

#### 5.5.3 位置模式面板

```
┌────────────────────────────────────────┐
│  目标位置: [________] pulse             │
│  运行方向: [正转 ▼]                     │
│  最大速度: [________] Step/s            │
│                                        │
│  [相对运动(Move)]  [绝对运动(Goto)]      │
│                                        │
│  当前位置: 12345 pulse                  │
│  [设为原点]  [设为零点]                  │
└────────────────────────────────────────┘
```

| 编号 | 功能 | 描述 |
|------|------|------|
| C-22 | 目标位置输入 | 输入框，INTEGER32，单位 pulse |
| C-23 | 方向选择 | 下拉框: 正转(1) / 反转(0)，写寄存器 0x52 |
| C-24 | 相对运动 | 设置目标位置(0x53) → 发控制字 0x4F → 0x5F |
| C-25 | 绝对运动 | 设置目标位置(0x53) → 发控制字 0x0F → 0x1F |
| C-26 | 设为原点 | 写 0x5348 到 0x0048 |
| C-27 | 设为零点 | 写 0x535A 到 0x0047 |
| C-28 | 连续运动 | 支持连续点击相对运动按钮（自动重复 4F→5F 序列） |

#### 5.5.4 速度模式面板

```
┌────────────────────────────────────────┐
│  目标速度: [________] Step/s            │
│  换算显示: XXX RPM (= Step/s × 0.3)    │
│  运行方向: [正转 ▼]                     │
│                                        │
│  [正转运行]  [反转运行]  [停止]          │
│                                        │
│  当前速度: 500 Step/s = 150 RPM         │
└────────────────────────────────────────┘
```

| 编号 | 功能 | 描述 |
|------|------|------|
| C-29 | 目标速度输入 | 输入框，范围 0~15610 Step/s，实时显示 RPM 换算值 |
| C-30 | 正转运行 | 设方向(0x52=1) → 设速度(0x55) → 发控制字 0x0F |
| C-31 | 反转运行 | 设方向(0x52=0) → 设速度(0x55) → 发控制字 0x0F |
| C-32 | 停止 | 发控制字 0x07（使能状态停止） |
| C-33 | 实时调速 | 运行中修改速度后重新发送，无需停机 |

#### 5.5.5 原点回归面板

```
┌────────────────────────────────────────┐
│  回归方式: [31-快速回归 ▼]              │
│  寻找速度: [________] Step/s            │
│  接近速度: [________] Step/s            │
│  原点偏移: [________] pulse             │
│                                        │
│  [开始回归]  [停止]                      │
└────────────────────────────────────────┘
```

| 编号 | 功能 | 描述 |
|------|------|------|
| C-34 | 回归方式选择 | 下拉框，选项 17~31，默认 31（快速回归） |
| C-35 | 速度参数 | 寻找开关速度(0x6C)、接近零位速度(0x6E) |
| C-36 | 原点偏移 | 原点偏移值(0x69) |
| C-37 | 开始回归 | 发控制字 0x0F → 0x1F |
| C-38 | 停止 | 发控制字 0x07 |

### 5.6 子模块：报警信息

| 编号 | 功能 | 描述 |
|------|------|------|
| C-39 | 当前报警 | 读取输入寄存器 0x26，显示当前报警码及含义 |
| C-40 | 历史报警 | 读取输入寄存器 0x27（个数）+ 0x28~0x2F（历史记录），表格展示 |
| C-41 | 清除历史报警 | 写 0x6C64 到 0x0073 |
| C-42 | 清除故障状态 | 写 0x0080 到 0x0051 |
| C-43 | 报警码解析 | 内置错误码表，自动将数字码翻译为中文描述 |

#### 内置错误码表

| 错误码 | 含义 |
|--------|------|
| 0x2200 | 过流保护 |
| 0x3110 | 电源过压 |
| 0x3120 | 电源欠压 |
| 0x4310 | 过热报警 |
| 0x7121 | 失速报警 |
| 0x8612 | 限位报警 |
| 0xFF00 | 过热关机 |
| 0xFF01 | 错误的命令 |
| 0xFF02 | 不能执行的命令 |
| 0xFF0E | 超负限位报警 |
| 0xFF0F | 超正限位报警 |
| 0xFF11 | SPI 通信失败报警 |

---

## 6. 通讯层设计

### 6.1 Modbus-RTU 帧格式

```
请求帧: [从站地址 1B][功能码 1B][数据 NB][CRC16 2B]
响应帧: [从站地址 1B][功能码 1B][数据 NB][CRC16 2B]
异常帧: [从站地址 1B][功能码+0x80 1B][异常码 1B][CRC16 2B]
```

### 6.2 CRC16 校验

- 多项式: 0xA001
- 初始值: 0xFFFF
- CRC 低字节在前，高字节在后

### 6.3 通讯时序要求

- 帧间隔: >= 3.5 字符时间（115200bps 下约 0.3ms）
- 默认响应超时: 500ms
- 连续发送最小间隔: 5ms（避免从站处理不过来）

### 6.4 线程模型

- **主线程**: PyQt5 GUI 事件循环
- **通讯线程**: 独立 QThread 处理串口读写，通过 Signal/Slot 与主线程通讯
- **轮询定时器**: QTimer 驱动状态自动刷新

**关键约束**: 串口读写操作不能在 GUI 主线程中执行，避免界面卡顿。

---

## 7. 非功能需求

### 7.1 性能

| 指标 | 要求 |
|------|------|
| 状态刷新频率 | 自动模式下支持 100ms~2000ms 可调 |
| 串口收发 | 大数据量时接收区不卡顿（限制显示行数或使用虚拟滚动） |
| 启动时间 | < 3 秒 |

### 7.2 可靠性

| 指标 | 要求 |
|------|------|
| 串口异常 | USB 拔插时自动检测并提示断开，不崩溃 |
| 通讯超时 | 超时后清晰提示，不阻塞界面 |
| 参数写入 | 写入前校验值范围，超范围拒绝发送并提示 |
| 危险操作 | 恢复出厂设置、清除报警等需二次确认对话框 |

### 7.3 可用性

| 指标 | 要求 |
|------|------|
| 中文界面 | 所有文本使用中文 |
| 窗口缩放 | 支持窗口大小调整，布局自适应 |
| 键盘快捷键 | 常用操作支持快捷键（如 Ctrl+Enter 发送） |

---

## 8. 项目结构（建议）

```
SingleMotor/
├── CLAUDE.md
├── README.md
├── SESSION.md
├── TODO.md
├── requirements.md          # 本文件
├── pyproject.toml
├── requirements.txt
├── documents/               # 技术文档和摘要
│   ├── documents/           # PDF 原件
│   └── *.md                 # 摘要文件
└── src/
    └── nimotion/
        ├── __init__.py
        ├── main.py              # 程序入口
        ├── app.py               # QApplication 和主窗口
        ├── communication/       # 通讯层
        │   ├── __init__.py
        │   ├── serial_port.py   # 串口管理（pyserial 封装）
        │   ├── modbus_rtu.py    # Modbus-RTU 协议实现（帧构建/解析/CRC）
        │   └── worker.py        # 通讯线程（QThread）
        ├── models/              # 数据模型
        │   ├── __init__.py
        │   ├── registers.py     # 寄存器定义表（地址/名称/范围/单位）
        │   └── error_codes.py   # 错误码定义表
        ├── ui/                  # 界面层
        │   ├── __init__.py
        │   ├── main_window.py   # 主窗口（Tab 容器 + 公共连接栏）
        │   ├── serial_tab.py    # Tab1: 串口调试
        │   ├── modbus_tab.py    # Tab2: Modbus 调试
        │   ├── motor_tab.py     # Tab3: 电机控制（含子 Tab）
        │   └── widgets/         # 自定义控件
        │       ├── __init__.py
        │       ├── hex_input.py     # HEX 输入框
        │       ├── led_indicator.py # LED 指示灯控件
        │       └── log_viewer.py    # 日志查看器
        └── utils/
            ├── __init__.py
            └── crc16.py         # CRC16 Modbus 计算
```

---

## 9. 依赖包

| 包名 | 用途 | 版本要求 |
|------|------|---------|
| PyQt5 | GUI 框架 | >= 5.15 |
| pyserial | 串口通讯 | >= 3.5 |
| pymodbus | Modbus 协议（可选，也可手动实现） | >= 3.0 |

---

## 10. 开发优先级

| 阶段 | 内容 | 说明 |
|------|------|------|
| P0 | 通讯层 + 串口调试 Tab | 确保底层串口和 Modbus 帧收发正常 |
| P1 | Modbus 调试 Tab | 实现结构化寄存器读写和响应解析 |
| P2 | 电机控制 Tab - 状态监控 + 参数设置 | 实现参数读写和状态刷新 |
| P3 | 电机控制 Tab - 运动控制 | 实现位置/速度/原点回归三种模式 |
| P4 | 电机控制 Tab - 报警信息 | 实现报警读取、历史记录、故障清除 |
